"use strict";(self.webpackChunkdemo2_client=self.webpackChunkdemo2_client||[]).push([[795,264,270],{3795:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(4165),s=t(5861),c=t(1413),a=t(9439),i=t(3099),o=t(7309),l=t(356),u=t(2791),d=t(8465),p=t(4264),h=t(270),f=t(3540),Z=t(7689),x=t(1243),m=t(184);function j(){var e=(0,u.useState)([]),n=(0,a.Z)(e,2),t=n[0],j=n[1],v=(0,u.useState)({}),g=(0,a.Z)(v,2),y=g[0],I=g[1],k=(0,u.useState)(!1),C=(0,a.Z)(k,2),b=C[0],w=C[1],S=(0,u.useState)(!1),F=(0,a.Z)(S,2),D=F[0],P=F[1],T=(0,u.useState)(!0),U=(0,a.Z)(T,2),E=U[0],N=U[1],z=(0,u.useState)(""),O=(0,a.Z)(z,2),V=(O[0],O[1],(0,u.useState)({id:0,name:"",hours:0,college:""})),_=(0,a.Z)(V,2),K=_[0],q=_[1];function A(){I((function(e){return(0,c.Z)({},e)}))}var B=(0,Z.s0)();if((0,u.useEffect)((function(){function e(){return(e=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Z.get("http://localhost:8080/select");case 2:n=e.sent,j(n.data),N(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[y]),""===f.Z.username)return(0,m.jsx)(Z.Fg,{to:"/login"});var G=[{title:"\u5e8f\u53f7",dataIndex:"id"},{title:"\u5c01\u9762",dataIndex:"picture",width:"100px",render:function(e){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("img",{id:"picture",src:"http://localhost:8080/getpicture/"+e,width:"50px",height:"50px"})})}},{title:"\u8bfe\u7a0b\u540d",dataIndex:"name"},{title:"\u8bfe\u65f6\u6570",dataIndex:"hours"},{title:"\u5b66\u9662",dataIndex:"college"},{title:"\u64cd\u4f5c",dataIndex:"operation",render:function(e,n){return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(i.Z,{children:[(0,m.jsx)(o.Z,{type:"default",size:"small",onClick:function(){!function(e){P(!0),q(e)}(n)},children:"\u7f16\u8f91"}),(0,m.jsx)(d.Demo3Delete,{id:n.id,onSuccess:A})]})})}}];return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"div0",children:[(0,m.jsx)(h.Demo3Update,{open:D,course:K,onSuccess:function(){P(!1),I((function(e){return(0,c.Z)({},e)}))},onCancel:function(){P(!1)}}),(0,m.jsx)(p.Demo3Insert,{open:b,course:{id:1,name:"",hours:0,college:""},onSuccess:function(){w(!1),I((function(e){return(0,c.Z)({},e)}))},onCancel:function(){w(!1)}})]}),(0,m.jsxs)("div",{className:"div1",children:[(0,m.jsx)(o.Z,{type:"primary",onClick:function(){w(!0)},children:"\u65b0\u589e"}),(0,m.jsx)(o.Z,{type:"primary",danger:!0,onClick:function(){f.Z.reset(),B("/login")},children:"\u6ce8\u9500"})]}),(0,m.jsx)("div",{className:"div2",children:(0,m.jsx)("span",{children:(0,m.jsxs)("h2",{children:["\u6b22\u8fce\u60a8\uff0c[",f.Z.username,"]"]})})}),(0,m.jsx)(l.Z,{columns:G,dataSource:t,rowKey:"id",loading:E}),";"]})}},8465:function(e,n,t){t.r(n),t.d(n,{Demo3Delete:function(){return u}});var r=t(4165),s=t(5861),c=t(3695),a=t(1520),i=t(7309),o=t(1243),l=t(184);function u(e){var n=e.id,t=e.onSuccess;function u(){return(u=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.delete("http://localhost:8080/delete/".concat(n));case 3:e.sent,c.ZP.success("\u5220\u9664\u6210\u529f"),t&&t(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),c.ZP.error("\u5220\u9664\u9519\u8bef");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return(0,l.jsx)(a.Z,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){return u.apply(this,arguments)},children:(0,l.jsx)(i.Z,{danger:!0,size:"small",children:"\u5220\u9664"})})}},4264:function(e,n,t){t.r(n),t.d(n,{Demo3Insert:function(){return x}});var r=t(4165),s=t(5861),c=t(9439),a=t(3784),i=t(3695),o=t(2862),l=t(8047),u=t(3344),d=t(9553),p=t(7309),h=t(2791),f=t(1243),Z=t(184);function x(e){var n=e.open,t=e.course,x=e.onSuccess,m=e.onCancel,j=a.Z.useForm(),v=(0,c.Z)(j,1)[0];function g(){return(g=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.validateFields();case 3:return n=e.sent,e.next=6,f.Z.post("http://localhost:8080/insert",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:e.sent,i.ZP.success("\u4fee\u6539\u6210\u529f"),x&&x(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),i.ZP.error("\u9519\u8bef");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return(0,h.useEffect)((function(){v.setFieldsValue(t)}),[t]),(0,Z.jsx)(o.Z,{open:n,title:"\u65b0\u589e\u5b66\u751f",onOk:function(){return g.apply(this,arguments)},onCancel:m,children:(0,Z.jsxs)(a.Z,{form:v,children:[(0,Z.jsx)(a.Z.Item,{label:"\u8bfe\u7a0b\u540d",name:"name",children:(0,Z.jsx)(l.Z,{})}),(0,Z.jsx)(a.Z.Item,{label:"\u8bfe\u65f6",name:"hours",children:(0,Z.jsx)(u.Z,{})}),(0,Z.jsx)(a.Z.Item,{label:"\u5b66\u9662",name:"college",children:(0,Z.jsx)(l.Z,{})}),(0,Z.jsx)(a.Z.Item,{label:"\u5c01\u9762\u56fe\u7247",name:"file",children:(0,Z.jsx)(d.Z,{name:"image",beforeUpload:function(){return!1},withCredentials:!0,listType:"picture",children:(0,Z.jsx)(p.Z,{children:"\u4e0a\u4f20"})})})]})})}},270:function(e,n,t){t.r(n),t.d(n,{Demo3Update:function(){return x}});var r=t(4165),s=t(5861),c=t(9439),a=t(3784),i=t(3695),o=t(8047),l=t(3344),u=t(9553),d=t(7309),p=t(1698),h=t(1243),f=t(2791),Z=t(184);function x(e){var n=e.open,t=e.course,x=e.onSuccess,m=e.onCancel,j=a.Z.useForm(),v=(0,c.Z)(j,1)[0];function g(){return(g=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.validateFields();case 3:return n=e.sent,e.next=6,h.Z.post("http://localhost:8080/update",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:e.sent,i.ZP.success("\u4fee\u6539\u6210\u529f"),x&&x(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),i.ZP.error("\u9519\u8bef");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return(0,f.useEffect)((function(){v.setFieldsValue(t)}),[t]),(0,Z.jsx)(p.Z,{open:n,title:"\u7f16\u8f91\u5b66\u751f",onOk:function(){return g.apply(this,arguments)},onCancel:m,children:(0,Z.jsxs)(a.Z,{form:v,children:[(0,Z.jsx)(a.Z.Item,{name:"id",hidden:!0}),(0,Z.jsx)(a.Z.Item,{label:"\u8bfe\u7a0b\u540d",name:"name",children:(0,Z.jsx)(o.Z,{})}),(0,Z.jsx)(a.Z.Item,{label:"\u8bfe\u65f6",name:"hours",children:(0,Z.jsx)(l.Z,{})}),(0,Z.jsx)(a.Z.Item,{label:"\u5b66\u9662",name:"college",children:(0,Z.jsx)(o.Z,{})}),(0,Z.jsx)(a.Z.Item,{label:"\u5c01\u9762\u56fe\u7247",name:"file",children:(0,Z.jsx)(u.Z,{name:"image",beforeUpload:function(){return!1},withCredentials:!0,listType:"picture",children:(0,Z.jsx)(d.Z,{children:"\u4e0a\u4f20"})})})]})})}}}]);
//# sourceMappingURL=795.7e51553f.chunk.js.map