{"version":3,"file":"static/js/270.80654ef0.chunk.js","mappings":"sSAMO,SAASA,EAAWC,GAaxB,IAVCC,EAAID,EAAJC,KACAC,EAAMF,EAANE,OACAC,EAASH,EAATG,UACAC,EAAQJ,EAARI,SAQFC,EAAeC,EAAAA,EAAAA,UAARC,GAAsBC,EAAAA,EAAAA,GAAAH,EAAA,GAAlB,GAeQ,SAAAI,IAalB,OAbkBA,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAnB,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEuBX,EAAKY,iBAAiB,KAAD,EAA9B,OAANL,EAAME,EAAAI,KAAAJ,EAAAE,KAAA,EAGSG,EAAAA,EAAAA,KAAW,+BAA+BP,EAAO,CAACQ,QAAQ,CAAE,eAAgB,yBAAyB,KAAD,EAA7GN,EAAAI,KAEVG,EAAAA,GAAAA,QAAgB,4BAChBpB,GAAaA,IAAYa,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAQ,GAAAR,EAAA,SAEzBS,QAAQC,IAAGV,EAAAQ,IACXD,EAAAA,GAAAA,MAAc,gBAAM,yBAAAP,EAAAW,OAAA,GAAAd,EAAA,oBAEvBe,MAAA,KAAAC,UAAA,CAKD,OAHAC,EAAAA,EAAAA,YAAU,WACRvB,EAAKwB,eAAe7B,EACtB,GAAG,CAACA,KAEF8B,EAAAA,EAAAA,KAACC,EAAAA,EAAK,CAAChC,KAAMA,EAAMiC,MAAM,2BAAOC,KArBlC,WAEmB,OAAA1B,EAAAmB,MAAC,KAADC,UAAA,EAmB2BzB,SAAUA,EAASgC,UAC7DC,EAAAA,EAAAA,MAAC/B,EAAAA,EAAI,CAACC,KAAMA,EAAK6B,SAAA,EACfJ,EAAAA,EAAAA,KAAC1B,EAAAA,EAAAA,KAAS,CAACgC,KAAM,KAAMC,QAAQ,KAC/BP,EAAAA,EAAAA,KAAC1B,EAAAA,EAAAA,KAAS,CAACkC,MAAM,qBAAMF,KAAM,OAAOF,UAClCJ,EAAAA,EAAAA,KAACS,EAAAA,EAAK,OAERT,EAAAA,EAAAA,KAAC1B,EAAAA,EAAAA,KAAS,CAACkC,MAAM,eAAKF,KAAM,QAAQF,UAClCJ,EAAAA,EAAAA,KAACU,EAAAA,EAAW,OAEdV,EAAAA,EAAAA,KAAC1B,EAAAA,EAAAA,KAAS,CAACkC,MAAM,eAAKF,KAAM,UAAUF,UACpCJ,EAAAA,EAAAA,KAACS,EAAAA,EAAK,OAERT,EAAAA,EAAAA,KAAC1B,EAAAA,EAAAA,KAAS,CACRkC,MAAM,2BACNF,KAAK,OAAMF,UAEXJ,EAAAA,EAAAA,KAACW,EAAAA,EAAM,CACLL,KAAK,QACLM,aAAc,WACZ,OAAO,CACT,EACAC,iBAAiB,EACjBC,SAAS,UAASV,UAElBJ,EAAAA,EAAAA,KAACe,EAAAA,EAAM,CAAAX,SAAE,yBAMrB,C","sources":["pages/Demo3Update.tsx"],"sourcesContent":["import { Button, Form, Input, InputNumber, Upload, message } from \"antd\";\r\nimport Modal from \"antd/lib/modal/Modal\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Course } from \"./Course\";\r\n\r\nexport function Demo3Update(\r\n  this: any,\r\n  {\r\n    open,\r\n    course,\r\n    onSuccess,\r\n    onCancel,\r\n  }: {\r\n    open?: boolean;\r\n    course?: Course;\r\n    onSuccess?: () => void;\r\n    onCancel?: () => void;\r\n  }\r\n) {\r\n  const [form] = Form.useForm();\r\n  // const [fileList, setFileList] = useState<any[]>([]);\r\n\r\n  // function handleChange(e: { target: { files: any } }) {\r\n  //   const newFileList = [...e.target.files];\r\n  //   setFileList(newFileList);\r\n  //   console.log(\"input\");\r\n  // }\r\n\r\n  // const formdata = new FormData();\r\n  // function handleUpload() {\r\n  //   formdata.append(\"file\", fileList[0]);\r\n  //   console.log(formdata.getAll(\"file\"));\r\n  // }\r\n\r\n  async function onOk() {\r\n    try {\r\n      var values = await form.validateFields();\r\n      //修改数据库\r\n      // values = qs.stringify(values);\r\n      const resp = await axios.post(`http://localhost:8080/update`,values,{headers:{ 'Content-Type': 'multipart/form-data'}});\r\n\r\n      message.success(\"修改成功\");\r\n      onSuccess && onSuccess();\r\n    } catch (e) {\r\n      console.log(e);\r\n      message.error(\"错误\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue(course);\r\n  }, [course]);\r\n  return (\r\n    <Modal open={open} title=\"编辑学生\" onOk={onOk} onCancel={onCancel}>\r\n      <Form form={form} >\r\n        <Form.Item name={\"id\"} hidden={true}></Form.Item>\r\n        <Form.Item label=\"课程名\" name={\"name\"}>\r\n          <Input></Input>\r\n        </Form.Item>\r\n        <Form.Item label=\"课时\" name={\"hours\"}>\r\n          <InputNumber></InputNumber>\r\n        </Form.Item>\r\n        <Form.Item label=\"学院\" name={\"college\"}>\r\n          <Input></Input>\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"封面图片\"   \r\n          name=\"file\"\r\n        >\r\n          <Upload\r\n            name=\"image\"\r\n            beforeUpload={() => {\r\n              return false;\r\n            }}\r\n            withCredentials={true}\r\n            listType=\"picture\"\r\n          >\r\n            <Button >上传</Button>\r\n          </Upload>\r\n        </Form.Item>   \r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n"],"names":["Demo3Update","_ref","open","course","onSuccess","onCancel","_Form$useForm","Form","form","_slicedToArray","_onOk","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","wrap","_context","prev","next","validateFields","sent","axios","headers","message","t0","console","log","stop","apply","arguments","useEffect","setFieldsValue","_jsx","Modal","title","onOk","children","_jsxs","name","hidden","label","Input","InputNumber","Upload","beforeUpload","withCredentials","listType","Button"],"sourceRoot":""}